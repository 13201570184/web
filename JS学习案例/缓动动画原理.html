<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div {
            position: absolute;
            left: 0;
            width: 100px;
            height: 100px;
            background-color: pink;
        }
         
        span {
            position: absolute;
            left: 0;
            top: 200px;
            display: block;
            width: 150px;
            height: 150px;
            background-color: purple;
        }
    </style>
</head>
 
<body>
    <button>点击夏雨荷才走</button>
    <span>夏雨荷</span>
    <script>
            var btn = document.querySelector('button');     //获取body里面的元素
            var span = document.querySelector('span')
            function animate(obj,target){       //封装动画函数 (obj,target)
              clearInterval(obj.timer);       //清除定时器
              obj.timer = setInterval(function(){     //给定时器命名 obj.timer
                var step = (target - obj.offsetLeft) / 10;     //必须将缓动 step 写到定时器里面，每次运行后，再去执行step 才能实现缓动的效果
              step = Math.ceil(step);         //当数字大于0 的时候应该向向取整
                if(obj.offsetLeft == target){     //设置条件，如果指定的位置和元素当前位置相同时，应该取消定时器
                  clearInterval(obj.timer)        
                }else{        //否则的话，没执行一次定时器，给元素当前的位置加上一次计算的缓动距离  加单位px
                  obj.style.left = obj.offsetLeft + step + 'px';
                }
              },15)  //每15ms 执行一次计时器
            }
            btn.addEventListener('click',function(){   //给btn设置一个点击事件 ，点击了之后，执行动画函数
              animate(span,500)
            })
    </script>
</body>
 
</html>